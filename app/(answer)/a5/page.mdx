import Counter from "@/components/posts/5/Counter";

## ì •ë‹µ: ë²„íŠ¼ì„ ëˆ„ë¥¼ ë•Œë§ˆë‹¤ ì½˜ì†”ì— `hello John`ì´ ì¶œë ¥ëœë‹¤.

<Counter />

### `useEffect`ì˜ ì˜ì¡´ì„± ë°°ì—´ ë˜í•œ `Object.is()` í•¨ìˆ˜ë¥¼ í†µí•´ ë¹„êµí•œë‹¤.

---

ì´ ì½”ë“œë¥¼ ì‘ì„±í•œ ê°œë°œìëŠ” ì˜¤ì§ `user`ì˜ ì´ë¦„ì´ ë³€í•  ë•Œë§Œ `hello ${user.name}`ì„ ì¶œë ¥í•˜ë¼ëŠ” ì˜ë¯¸ë¡œ `useEffect`ì˜ ì˜ì¡´ì„± ë°°ì—´ì— `user`ë¥¼ ì¶”ê°€í–ˆì„ ê²ƒì´ë‹¤. ê·¸ëŸ¬ë‚˜ ì‹¤ì œë¡œëŠ” `user`ë¥¼ ì¬ì„ ì–¸í•˜ì§€ ì•Šì•˜ëŠ”ë°ë„ ë Œë”ë§ë§ˆë‹¤ ê³„ì† `hello ${user.name}`ì´ ì¶œë ¥ë˜ì—ˆë‹¤.

ì´ëŠ” `useEffect`ì˜ ì˜ì¡´ì„± ë°°ì—´ì€ `useState`ì˜ ê²½ìš°ì™€ ë¹„ìŠ·í•˜ê²Œ `Object.is()` í•¨ìˆ˜ë¥¼ ì‚¬ìš©í•´ ë™ì¼ì„±ì„ íŒë‹¨í•˜ê¸° ë•Œë¬¸ì´ë‹¤. ì•„ë˜ì˜ ë‘ ì½”ë“œë¥¼ ë³´ë©´ ì°¨ì´ë¥¼ í™•ì—°í•˜ê²Œ í•  ìˆ˜ ìˆë‹¤.

```js showLineNumbers title="inside.jsx"
function App1() {
  const user = { name: "John" };

  return <User user={user} />;
}
```

```js showLineNumbers title="outside.jsx"
const user = { name: "John" };

function App2() {
  return <User user={user} />;
}
```

ì²« ë²ˆì§¸ ì½”ë“œì—ì„œëŠ” `user` ê°ì²´ê°€ `App1` ì»´í¬ë„ŒíŠ¸ì˜ ë‚´ë¶€ì— ì„ ì–¸ë˜ì–´ìˆë‹¤. ë§¤ ë Œë”ë§ë§ˆë‹¤ `user`ì— ìƒˆë¡œìš´ ê°ì²´ë¥¼ í• ë‹¹í•˜ê³ , ë”°ë¼ì„œ `useEffect` ë‚´ë¶€ì˜ ì½”ë“œê°€ ê³„ì† ì‹¤í–‰ë  ê²ƒì´ë‹¤.

ë°˜ë©´ ë‘ ë²ˆì§¸ ì½”ë“œì—ì„œëŠ” `user` ê°ì²´ê°€ `App2` ì»´í¬ë„ŒíŠ¸ì˜ ì™¸ë¶€ì— ì„ ì–¸ë˜ì–´ìˆë‹¤. ë”°ë¼ì„œ ë Œë”ë§ì´ ì¼ì–´ë‚˜ë”ë¼ë„ `user`ëŠ” ë™ì¼í•œ ê°ì²´ í¬ì¸í„°ë¥¼ ì°¸ì¡°í•˜ê³ , `useEffect` ë‚´ë¶€ì˜ ì½”ë“œê°€ ì‹¤í–‰ë˜ì§€ ì•ŠëŠ”ë‹¤.

ì¡°ê¸ˆë” ì‹¤ì „ì— ê°€ê¹Œìš´ ì½”ë“œë¥¼ ì‚´í´ë³´ì.

```js showLineNumbers
function App({ options, userId }) {
  const [user, setUser] = useState(null);
  const params = { ...options, userId };

  useEffect(() => {
    fetch(`/user/${params.userId}`)
      .then((response) => response.json)
      .then((user) => {
        setUser(user);
      });
  }, [params]);

  return <User user={user} params={params} />;
}
```

ìœ„ ì½”ë“œëŠ” ë§¤ ë Œë”ë§ë§ˆë‹¤ `params`ì— ìƒˆë¡œìš´ ê°ì²´ë¥¼ í• ë‹¹í•˜ê³ , ë”°ë¼ì„œ `useEffect` ë‚´ë¶€ì˜ ì½”ë“œê°€ ì‹¤í–‰ë˜ì–´ `/user/${params.userId}`ì— ìš”ì²­ì„ ë³´ë‚¼ ê²ƒì´ë‹¤. ì˜ì¡´ì„± ë°°ì—´ì— ë‹¨ìˆœ ìˆ«ìë‚˜ ë¬¸ìì—´ì´ ì•„ë‹Œ ê°ì²´ë¥¼ ë„£ì„ ë•ŒëŠ” ê·¸ ê°ì²´ê°€ ì–¸ì œ í• ë‹¹ë˜ëŠ”ì§€ë¥¼ ì˜ˆì˜ì£¼ì‹œ í•´ì•¼ í•œë‹¤.

---

### ì°¸ê³ ìë£Œ

- `ğŸ‡°ğŸ‡·` https://yceffort.kr/2022/03/react-hooks-in-caution#í›…ê³¼-ë™ì¼-ë¹„êµ
